<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Kactus2: D:/user/kamppia/SVNwork/Kactus2 SourceForge/common/widgets/tabDocument/TabDocument.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>D:/user/kamppia/SVNwork/Kactus2 SourceForge/common/widgets/tabDocument/TabDocument.cpp</h1><a href="_tab_document_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00002"></a>00002 <span class="comment">// File: TabDocument.cpp</span>
<a name="l00003"></a>00003 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00004"></a>00004 <span class="comment">// Project: Kactus 2</span>
<a name="l00005"></a>00005 <span class="comment">// Author: Joni-Matti M‰‰tt‰</span>
<a name="l00006"></a>00006 <span class="comment">// Date: 4.5.2011</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// Description:</span>
<a name="l00009"></a>00009 <span class="comment">// Tab document base class.</span>
<a name="l00010"></a>00010 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include "<a class="code" href="_tab_document_8h.html">TabDocument.h</a>"</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;QMessageBox&gt;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00017"></a>00017 <span class="comment">// Function: TabDocument()</span>
<a name="l00018"></a>00018 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00019"></a><a class="code" href="class_tab_document.html#021bda052fd4674a29370554c1221e49">00019</a> <a class="code" href="class_tab_document.html#021bda052fd4674a29370554c1221e49">TabDocument::TabDocument</a>(QWidget* parent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, 
<a name="l00020"></a>00020                                                  <span class="keywordtype">int</span> minZoomLevel, <span class="keywordtype">int</span> maxZoomLevel) : QWidget(parent),
<a name="l00021"></a>00021                                                                flags_(flags), modified_(false),
<a name="l00022"></a>00022                                                                locked_(false), zoomLevel_(100),
<a name="l00023"></a>00023                                                                maxZoomLevel_(maxZoomLevel),
<a name="l00024"></a>00024                                                                minZoomLevel_(minZoomLevel), title_(<span class="stringliteral">""</span>),
<a name="l00025"></a>00025                                                                docName_(<span class="stringliteral">""</span>), tabWidget_(0)
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 {
<a name="l00028"></a>00028     connect(<span class="keyword">this</span>, SIGNAL(<a class="code" href="class_tab_document.html#f9a72ce05106cb17850e624ed2f4d113" title="Emitted when contents of the widget change.">contentChanged</a>()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_tab_document.html#96e9094d42659d00ee809fd7ab2d1534">setModified</a>()));
<a name="l00029"></a>00029 }
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00032"></a>00032 <span class="comment">// Function: ~TabDocument()</span>
<a name="l00033"></a>00033 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00034"></a><a class="code" href="class_tab_document.html#04e98b04f0b3a36c8a8ee3c72b570b7c">00034</a> <a class="code" href="class_tab_document.html#04e98b04f0b3a36c8a8ee3c72b570b7c">TabDocument::~TabDocument</a>()
<a name="l00035"></a>00035 {
<a name="l00036"></a>00036 }
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00039"></a>00039 <span class="comment">// Function: applySettings()</span>
<a name="l00040"></a>00040 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00041"></a><a class="code" href="class_tab_document.html#296eb8e0be8bd2b62f96933a61b597c0">00041</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#296eb8e0be8bd2b62f96933a61b597c0">TabDocument::applySettings</a>(QSettings <span class="keyword">const</span>&amp;)
<a name="l00042"></a>00042 {
<a name="l00043"></a>00043 }
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00046"></a>00046 <span class="comment">// Function: setTabWidget()</span>
<a name="l00047"></a>00047 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00048"></a><a class="code" href="class_tab_document.html#a48d52dac5152727e6a34e5d622b028d">00048</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#a48d52dac5152727e6a34e5d622b028d">TabDocument::setTabWidget</a>(QTabWidget* tabWidget)
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050     <span class="comment">// Remove from the old tab.</span>
<a name="l00051"></a>00051     <span class="keywordflow">if</span> (<a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a> != 0)
<a name="l00052"></a>00052     {
<a name="l00053"></a>00053         <a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a>-&gt;removeTab(<a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a>-&gt;indexOf(<span class="keyword">this</span>));
<a name="l00054"></a>00054     }
<a name="l00055"></a>00055 
<a name="l00056"></a>00056     <a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a> = tabWidget;
<a name="l00057"></a>00057     <a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a>-&gt;addTab(<span class="keyword">this</span>, <a class="code" href="class_tab_document.html#7b24df2e88e18482d5dfe77e2d27ca7f" title="The document title.">title_</a>);
<a name="l00058"></a>00058     <a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a>-&gt;setCurrentWidget(<span class="keyword">this</span>);
<a name="l00059"></a>00059 }
<a name="l00060"></a>00060 
<a name="l00061"></a>00061 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00062"></a>00062 <span class="comment">// Function: setDocumentName()</span>
<a name="l00063"></a>00063 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00064"></a><a class="code" href="class_tab_document.html#aa84da0d893494876d86c3256e4bb127">00064</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#aa84da0d893494876d86c3256e4bb127">TabDocument::setDocumentName</a>(QString <span class="keyword">const</span>&amp; name)
<a name="l00065"></a>00065 {
<a name="l00066"></a>00066     <a class="code" href="class_tab_document.html#947d99fc17290947eef2dd61efe80014" title="The name of the document.">docName_</a> = name;
<a name="l00067"></a>00067     <a class="code" href="class_tab_document.html#c042a6469e9435308c70ba894efb3f40">updateTabTitle</a>();
<a name="l00068"></a>00068 }
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00071"></a>00071 <span class="comment">// Function: setDocumentType()</span>
<a name="l00072"></a>00072 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00073"></a><a class="code" href="class_tab_document.html#37bad76cc00b2bf3338463ddd8cec21c">00073</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#37bad76cc00b2bf3338463ddd8cec21c">TabDocument::setDocumentType</a>(QString <span class="keyword">const</span>&amp; type)
<a name="l00074"></a>00074 {
<a name="l00075"></a>00075     <span class="keywordflow">if</span> (type.isEmpty())
<a name="l00076"></a>00076     {
<a name="l00077"></a>00077         <a class="code" href="class_tab_document.html#87c891292b26f44d7561feed2240ef7a" title="The document type name.">docType_</a> = <span class="stringliteral">""</span>;
<a name="l00078"></a>00078     }
<a name="l00079"></a>00079     <span class="keywordflow">else</span>
<a name="l00080"></a>00080     {
<a name="l00081"></a>00081         <a class="code" href="class_tab_document.html#87c891292b26f44d7561feed2240ef7a" title="The document type name.">docType_</a> = <span class="stringliteral">" ["</span> + type + <span class="stringliteral">"]"</span>;
<a name="l00082"></a>00082     }
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <a class="code" href="class_tab_document.html#c042a6469e9435308c70ba894efb3f40">updateTabTitle</a>();
<a name="l00085"></a>00085 }
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00088"></a>00088 <span class="comment">// Function: fitInView()</span>
<a name="l00089"></a>00089 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00090"></a><a class="code" href="class_tab_document.html#263720fb181ac8ee8a496e85a49c6a24">00090</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#263720fb181ac8ee8a496e85a49c6a24">TabDocument::fitInView</a>()
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092 }
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00095"></a>00095 <span class="comment">// Function: setZoomLevel()</span>
<a name="l00096"></a>00096 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00097"></a><a class="code" href="class_tab_document.html#fd58af35ed1e9bc26e5e23a2df9aebf8">00097</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#fd58af35ed1e9bc26e5e23a2df9aebf8">TabDocument::setZoomLevel</a>(<span class="keywordtype">int</span> level)
<a name="l00098"></a>00098 {
<a name="l00099"></a>00099     level = std::min(std::max(level, <a class="code" href="class_tab_document.html#43af851c1b818b36d22e97710d3b2dad" title="Minimum zoom level.">minZoomLevel_</a>), <a class="code" href="class_tab_document.html#f27d5274a4a17d9125d02311fd4bfff4" title="Maximum zoom level.">maxZoomLevel_</a>);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <span class="keywordflow">if</span> (<a class="code" href="class_tab_document.html#06e2f41c76347a40737e06bd2cd84970" title="Document flags.">flags_</a> &amp; <a class="code" href="class_tab_document.html#11a060848a86ea5ab1ab9eee551af55aecf7cbbf45169424295260e4b8373106">DOC_ZOOM_SUPPORT</a>)
<a name="l00102"></a>00102     {
<a name="l00103"></a>00103         <a class="code" href="class_tab_document.html#498edf19831465aed32d57117ac990d2" title="The zoom level as a percentage.">zoomLevel_</a> = level;
<a name="l00104"></a>00104     }
<a name="l00105"></a>00105 }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00108"></a>00108 <span class="comment">// Function: setMode()</span>
<a name="l00109"></a>00109 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00110"></a><a class="code" href="class_tab_document.html#9b6169441db05eb594f92977fce401b0">00110</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#9b6169441db05eb594f92977fce401b0">TabDocument::setMode</a>(<a class="code" href="_draw_mode_8h.html#9a325db332d24e6105fe3b48a94604c3" title="DrawMode enumeration.">DrawMode</a>)
<a name="l00111"></a>00111 {
<a name="l00112"></a>00112 }
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00115"></a>00115 <span class="comment">// Function: setProtection()</span>
<a name="l00116"></a>00116 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00117"></a><a class="code" href="class_tab_document.html#f1ca58c43e47d217df76d22838aaa845">00117</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#f1ca58c43e47d217df76d22838aaa845">TabDocument::setProtection</a>(<span class="keywordtype">bool</span> locked)
<a name="l00118"></a>00118 {
<a name="l00119"></a>00119     <a class="code" href="class_tab_document.html#81db32dd57c8d5981aee53e2ccd245cd" title="The protection state (locked/unlocked).">locked_</a> = locked;
<a name="l00120"></a>00120 }
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00123"></a>00123 <span class="comment">// Function: setModified()</span>
<a name="l00124"></a>00124 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00125"></a><a class="code" href="class_tab_document.html#96e9094d42659d00ee809fd7ab2d1534">00125</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#96e9094d42659d00ee809fd7ab2d1534">TabDocument::setModified</a>(<span class="keywordtype">bool</span> modified)
<a name="l00126"></a>00126 {
<a name="l00127"></a>00127         <span class="keywordflow">if</span> (modified == <a class="code" href="class_tab_document.html#36df342a9dfcdc07515328cb421e07cc" title="Boolean flag for &amp;#39;modified&amp;#39; state.">modified_</a>) 
<a name="l00128"></a>00128                 <span class="keywordflow">return</span>;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130     <span class="keywordflow">if</span> (modified)
<a name="l00131"></a>00131     {
<a name="l00132"></a>00132         <a class="code" href="class_tab_document.html#3b3905639f298b385d11ed6bffb37e62">setTabTitle</a>(<a class="code" href="class_tab_document.html#947d99fc17290947eef2dd61efe80014" title="The name of the document.">docName_</a> + <a class="code" href="class_tab_document.html#87c891292b26f44d7561feed2240ef7a" title="The document type name.">docType_</a> + <span class="stringliteral">"*"</span>);
<a name="l00133"></a>00133     }
<a name="l00134"></a>00134     <span class="keywordflow">else</span>
<a name="l00135"></a>00135     {
<a name="l00136"></a>00136         <a class="code" href="class_tab_document.html#3b3905639f298b385d11ed6bffb37e62">setTabTitle</a>(<a class="code" href="class_tab_document.html#947d99fc17290947eef2dd61efe80014" title="The name of the document.">docName_</a> + <a class="code" href="class_tab_document.html#87c891292b26f44d7561feed2240ef7a" title="The document type name.">docType_</a>);
<a name="l00137"></a>00137     }
<a name="l00138"></a>00138 
<a name="l00139"></a>00139     <a class="code" href="class_tab_document.html#36df342a9dfcdc07515328cb421e07cc" title="Boolean flag for &amp;#39;modified&amp;#39; state.">modified_</a> = modified;
<a name="l00140"></a>00140         emit <a class="code" href="class_tab_document.html#cd8b55e81290529beba6e41142b1981e" title="Emitted when the modified state changes.">modifiedChanged</a>(<a class="code" href="class_tab_document.html#36df342a9dfcdc07515328cb421e07cc" title="Boolean flag for &amp;#39;modified&amp;#39; state.">modified_</a>);
<a name="l00141"></a>00141 }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00144"></a>00144 <span class="comment">// Function: getDocumentName()</span>
<a name="l00145"></a>00145 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00146"></a><a class="code" href="class_tab_document.html#42405e18a8d714a207c97b5819ef09fc">00146</a> QString <span class="keyword">const</span>&amp; <a class="code" href="class_tab_document.html#42405e18a8d714a207c97b5819ef09fc">TabDocument::getDocumentName</a>()<span class="keyword"> const</span>
<a name="l00147"></a>00147 <span class="keyword"></span>{
<a name="l00148"></a>00148     <span class="keywordflow">return</span> <a class="code" href="class_tab_document.html#947d99fc17290947eef2dd61efe80014" title="The name of the document.">docName_</a>;
<a name="l00149"></a>00149 }
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00152"></a>00152 <span class="comment">// Function: getZoomLevel()</span>
<a name="l00153"></a>00153 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00154"></a><a class="code" href="class_tab_document.html#6b758f2cc09b5ca46c55dc392ef2312c">00154</a> <span class="keywordtype">int</span> <a class="code" href="class_tab_document.html#6b758f2cc09b5ca46c55dc392ef2312c">TabDocument::getZoomLevel</a>()<span class="keyword"> const</span>
<a name="l00155"></a>00155 <span class="keyword"></span>{
<a name="l00156"></a>00156     <span class="keywordflow">return</span> <a class="code" href="class_tab_document.html#498edf19831465aed32d57117ac990d2" title="The zoom level as a percentage.">zoomLevel_</a>;
<a name="l00157"></a>00157 }
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00160"></a>00160 <span class="comment">// Function: getSupportedDrawModes()</span>
<a name="l00161"></a>00161 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00162"></a><a class="code" href="class_tab_document.html#b794e5cc29e7ce93df79fa8718a9ced3">00162</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_tab_document.html#b794e5cc29e7ce93df79fa8718a9ced3">TabDocument::getSupportedDrawModes</a>()<span class="keyword"> const</span>
<a name="l00163"></a>00163 <span class="keyword"></span>{
<a name="l00164"></a>00164     <span class="keywordflow">return</span> <a class="code" href="_draw_mode_8h.html#9a325db332d24e6105fe3b48a94604c355c50be59001f12b54c48b09e434dced">MODE_NONE</a>;
<a name="l00165"></a>00165 }
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00168"></a>00168 <span class="comment">// Function: isProtected()</span>
<a name="l00169"></a>00169 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00170"></a><a class="code" href="class_tab_document.html#52576d5c5d7f62eee909c0506d37a06a">00170</a> <span class="keywordtype">bool</span> <a class="code" href="class_tab_document.html#52576d5c5d7f62eee909c0506d37a06a">TabDocument::isProtected</a>()<span class="keyword"> const</span>
<a name="l00171"></a>00171 <span class="keyword"></span>{
<a name="l00172"></a>00172     <span class="keywordflow">return</span> <a class="code" href="class_tab_document.html#81db32dd57c8d5981aee53e2ccd245cd" title="The protection state (locked/unlocked).">locked_</a>;
<a name="l00173"></a>00173 }
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00176"></a>00176 <span class="comment">// Function: getFlags()</span>
<a name="l00177"></a>00177 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00178"></a><a class="code" href="class_tab_document.html#c2452fbe88beb711dadabe1e6b67d378">00178</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_tab_document.html#c2452fbe88beb711dadabe1e6b67d378">TabDocument::getFlags</a>()<span class="keyword"> const</span>
<a name="l00179"></a>00179 <span class="keyword"></span>{
<a name="l00180"></a>00180     <span class="keywordflow">return</span> <a class="code" href="class_tab_document.html#06e2f41c76347a40737e06bd2cd84970" title="Document flags.">flags_</a>;
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00184"></a>00184 <span class="comment">// Function: isModified()</span>
<a name="l00185"></a>00185 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00186"></a><a class="code" href="class_tab_document.html#c3ceea9b578b8873d64905e324418876">00186</a> <span class="keywordtype">bool</span> <a class="code" href="class_tab_document.html#c3ceea9b578b8873d64905e324418876">TabDocument::isModified</a>()<span class="keyword"> const</span>
<a name="l00187"></a>00187 <span class="keyword"></span>{
<a name="l00188"></a>00188     <span class="keywordflow">return</span> <a class="code" href="class_tab_document.html#36df342a9dfcdc07515328cb421e07cc" title="Boolean flag for &amp;#39;modified&amp;#39; state.">modified_</a>;
<a name="l00189"></a>00189 }
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00192"></a>00192 <span class="comment">// Function: save()</span>
<a name="l00193"></a>00193 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00194"></a><a class="code" href="class_tab_document.html#b98863981f33986f7452eb891fa72b11">00194</a> <span class="keywordtype">bool</span> <a class="code" href="class_tab_document.html#b98863981f33986f7452eb891fa72b11" title="Saves the document and resets the modified state.">TabDocument::save</a>()
<a name="l00195"></a>00195 {
<a name="l00196"></a>00196     <a class="code" href="class_tab_document.html#96e9094d42659d00ee809fd7ab2d1534">setModified</a>(<span class="keyword">false</span>);
<a name="l00197"></a>00197     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00201"></a>00201 <span class="comment">// Function: saveAs()</span>
<a name="l00202"></a>00202 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00203"></a><a class="code" href="class_tab_document.html#b1bdde0dfb3860b3876abbad10f439f0">00203</a> <span class="keywordtype">bool</span> <a class="code" href="class_tab_document.html#b1bdde0dfb3860b3876abbad10f439f0" title="Saves the document as new object and resets the modified state.">TabDocument::saveAs</a>()
<a name="l00204"></a>00204 {
<a name="l00205"></a>00205         <a class="code" href="class_tab_document.html#96e9094d42659d00ee809fd7ab2d1534">setModified</a>(<span class="keyword">false</span>);
<a name="l00206"></a>00206         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00207"></a>00207 }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00210"></a>00210 <span class="comment">// Function: print()</span>
<a name="l00211"></a>00211 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00212"></a><a class="code" href="class_tab_document.html#040311fc06fa0aa906efae9fb95d640d">00212</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#040311fc06fa0aa906efae9fb95d640d" title="Prints the document, if the document supports printing. Support can be queried with...">TabDocument::print</a>()
<a name="l00213"></a>00213 {
<a name="l00214"></a>00214 }
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00217"></a>00217 <span class="comment">// Function: getMaxZoomLevel()</span>
<a name="l00218"></a>00218 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00219"></a><a class="code" href="class_tab_document.html#d5c3f74e49ee319a2921e93e03a35686">00219</a> <span class="keywordtype">int</span> <a class="code" href="class_tab_document.html#d5c3f74e49ee319a2921e93e03a35686">TabDocument::getMaxZoomLevel</a>()<span class="keyword"> const</span>
<a name="l00220"></a>00220 <span class="keyword"></span>{
<a name="l00221"></a>00221     <span class="keywordflow">return</span> <a class="code" href="class_tab_document.html#f27d5274a4a17d9125d02311fd4bfff4" title="Maximum zoom level.">maxZoomLevel_</a>;
<a name="l00222"></a>00222 }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00225"></a>00225 <span class="comment">// Function: getMinZoomLevel()</span>
<a name="l00226"></a>00226 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00227"></a><a class="code" href="class_tab_document.html#0fe8cd2778e08ccd340ce0227038e2d8">00227</a> <span class="keywordtype">int</span> <a class="code" href="class_tab_document.html#0fe8cd2778e08ccd340ce0227038e2d8">TabDocument::getMinZoomLevel</a>()<span class="keyword"> const</span>
<a name="l00228"></a>00228 <span class="keyword"></span>{
<a name="l00229"></a>00229     <span class="keywordflow">return</span> <a class="code" href="class_tab_document.html#43af851c1b818b36d22e97710d3b2dad" title="Minimum zoom level.">minZoomLevel_</a>;
<a name="l00230"></a>00230 }
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00233"></a>00233 <span class="comment">// Function: askSaveFile()</span>
<a name="l00234"></a>00234 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00235"></a><a class="code" href="class_tab_document.html#3bc6e9a824d2ed6df2aa9df102cadb48">00235</a> <span class="keywordtype">bool</span> <a class="code" href="class_tab_document.html#3bc6e9a824d2ed6df2aa9df102cadb48" title="Ask the user if file should be saved or not.">TabDocument::askSaveFile</a>()<span class="keyword"> const </span>{
<a name="l00236"></a>00236 
<a name="l00237"></a>00237         QMessageBox::StandardButton button = QMessageBox::question(parentWidget(), 
<a name="l00238"></a>00238                 tr(<span class="stringliteral">"Save changes to file?"</span>), 
<a name="l00239"></a>00239                 tr(<span class="stringliteral">"Would you like to save the changes you have made to the file?"</span>),
<a name="l00240"></a>00240                 QMessageBox::Yes | QMessageBox::No, QMessageBox::Yes);
<a name="l00241"></a>00241 
<a name="l00242"></a>00242         <span class="comment">// return true if user clicked yes</span>
<a name="l00243"></a>00243         <span class="keywordflow">return</span> QMessageBox::Yes == button;
<a name="l00244"></a>00244 }
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00247"></a>00247 <span class="comment">// Function: updateTabTitle()</span>
<a name="l00248"></a>00248 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00249"></a><a class="code" href="class_tab_document.html#c042a6469e9435308c70ba894efb3f40">00249</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#c042a6469e9435308c70ba894efb3f40">TabDocument::updateTabTitle</a>()
<a name="l00250"></a>00250 {
<a name="l00251"></a>00251     <span class="comment">// Update also the title.</span>
<a name="l00252"></a>00252     <span class="keywordflow">if</span> (<a class="code" href="class_tab_document.html#c3ceea9b578b8873d64905e324418876">isModified</a>())
<a name="l00253"></a>00253     {
<a name="l00254"></a>00254         <a class="code" href="class_tab_document.html#3b3905639f298b385d11ed6bffb37e62">setTabTitle</a>(<a class="code" href="class_tab_document.html#947d99fc17290947eef2dd61efe80014" title="The name of the document.">docName_</a> + <a class="code" href="class_tab_document.html#87c891292b26f44d7561feed2240ef7a" title="The document type name.">docType_</a> + <span class="stringliteral">"*"</span>);
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256     <span class="keywordflow">else</span>
<a name="l00257"></a>00257     {
<a name="l00258"></a>00258         <a class="code" href="class_tab_document.html#3b3905639f298b385d11ed6bffb37e62">setTabTitle</a>(<a class="code" href="class_tab_document.html#947d99fc17290947eef2dd61efe80014" title="The name of the document.">docName_</a> + <a class="code" href="class_tab_document.html#87c891292b26f44d7561feed2240ef7a" title="The document type name.">docType_</a>);
<a name="l00259"></a>00259     }
<a name="l00260"></a>00260 }
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00263"></a>00263 <span class="comment">// Function: setTabTitle()</span>
<a name="l00264"></a>00264 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00265"></a><a class="code" href="class_tab_document.html#3b3905639f298b385d11ed6bffb37e62">00265</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#3b3905639f298b385d11ed6bffb37e62">TabDocument::setTabTitle</a>(QString <span class="keyword">const</span>&amp; title)
<a name="l00266"></a>00266 {
<a name="l00267"></a>00267     <span class="comment">// Update the tab title if the document has been added to a tab widget.</span>
<a name="l00268"></a>00268     <span class="keywordflow">if</span> (<a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a> != 0)
<a name="l00269"></a>00269     {
<a name="l00270"></a>00270         <span class="keywordtype">int</span> index = <a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a>-&gt;indexOf(<span class="keyword">this</span>);
<a name="l00271"></a>00271 
<a name="l00272"></a>00272         <span class="keywordflow">if</span> (index &gt;= 0)
<a name="l00273"></a>00273         {
<a name="l00274"></a>00274             <a class="code" href="class_tab_document.html#91bf8f03410d933e426817207eeadaac" title="The parent tab widget.">tabWidget_</a>-&gt;setTabText(index, title);
<a name="l00275"></a>00275         }
<a name="l00276"></a>00276     }
<a name="l00277"></a>00277 
<a name="l00278"></a>00278     <a class="code" href="class_tab_document.html#7b24df2e88e18482d5dfe77e2d27ca7f" title="The document title.">title_</a> = title;
<a name="l00279"></a>00279 }
<a name="l00280"></a>00280 
<a name="l00281"></a><a class="code" href="class_tab_document.html#3c46170661a8a0d5e4f85709a2609e55">00281</a> <a class="code" href="class_v_l_n_v.html" title="The class to hold VLNV information of a single IP-XACT document.">VLNV</a> <a class="code" href="class_tab_document.html#3c46170661a8a0d5e4f85709a2609e55" title="Get the vlnv of the current component.">TabDocument::getComponentVLNV</a>()<span class="keyword"> const </span>{
<a name="l00282"></a>00282         <span class="keywordflow">return</span> <a class="code" href="class_v_l_n_v.html" title="The class to hold VLNV information of a single IP-XACT document.">VLNV</a>();
<a name="l00283"></a>00283 }
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00286"></a>00286 <span class="comment">// Function: getEditProvider()</span>
<a name="l00287"></a>00287 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00288"></a><a class="code" href="class_tab_document.html#ec6336ef4775fc9df741017ce914e71a">00288</a> <a class="code" href="class_i_edit_provider.html" title="IEditProvider interface.">IEditProvider</a>* <a class="code" href="class_tab_document.html#ec6336ef4775fc9df741017ce914e71a">TabDocument::getEditProvider</a>()
<a name="l00289"></a>00289 {
<a name="l00290"></a>00290     <span class="keywordflow">return</span> 0;
<a name="l00291"></a>00291 }
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00294"></a>00294 <span class="comment">// Function: refresh()</span>
<a name="l00295"></a>00295 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00296"></a><a class="code" href="class_tab_document.html#a48217d9e04bb55e02824f46d0f60cc9">00296</a> <span class="keywordtype">void</span> <a class="code" href="class_tab_document.html#a48217d9e04bb55e02824f46d0f60cc9">TabDocument::refresh</a>() {
<a name="l00297"></a>00297         emit <a class="code" href="class_tab_document.html#416d2c9c1b55dc681812181d7ee8c681" title="Emitted when the tab document is refreshed.">refreshed</a>();
<a name="l00298"></a>00298 }
<a name="l00299"></a>00299 
<a name="l00300"></a><a class="code" href="class_tab_document.html#713879769af81789d0f80dd02b8cc47a">00300</a> <span class="keywordtype">bool</span> <a class="code" href="class_tab_document.html#713879769af81789d0f80dd02b8cc47a" title="Check if the editor is editing a hardware implementation or not.">TabDocument::isHWImplementation</a>()<span class="keyword"> const </span>{
<a name="l00301"></a>00301         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00302"></a>00302 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 30 12:12:39 2011 for Kactus2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
